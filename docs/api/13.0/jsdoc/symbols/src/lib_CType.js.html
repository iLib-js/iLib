<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"> <style>
	.KEYW {color: #933;}
	.COMM {color: #bbb; font-style: italic;}
	.NUMB {color: #393;}
	.STRN {color: #393;}
	.REGX {color: #339;}
	.line {border-right: 1px dotted #666; color: #666; font-style: normal;}
	</style></head><body><pre><span class='line'>  1</span> <span class="COMM">/*
<span class='line'>  2</span>  * CType.js - Character type definitions
<span class='line'>  3</span>  *
<span class='line'>  4</span>  * Copyright Â© 2012-2015, 2018, JEDLSoft
<span class='line'>  5</span>  *
<span class='line'>  6</span>  * Licensed under the Apache License, Version 2.0 (the "License");
<span class='line'>  7</span>  * you may not use this file except in compliance with the License.
<span class='line'>  8</span>  * You may obtain a copy of the License at
<span class='line'>  9</span>  *
<span class='line'> 10</span>  *     http://www.apache.org/licenses/LICENSE-2.0
<span class='line'> 11</span>  *
<span class='line'> 12</span>  * Unless required by applicable law or agreed to in writing, software
<span class='line'> 13</span>  * distributed under the License is distributed on an "AS IS" BASIS,
<span class='line'> 14</span>  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
<span class='line'> 15</span>  *
<span class='line'> 16</span>  * See the License for the specific language governing permissions and
<span class='line'> 17</span>  * limitations under the License.
<span class='line'> 18</span>  */</span><span class="WHIT">
<span class='line'> 19</span> 
<span class='line'> 20</span> </span><span class="COMM">// !data ctype</span><span class="WHIT">
<span class='line'> 21</span> 
<span class='line'> 22</span> </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">ilib</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">require</span><span class="PUNC">(</span><span class="STRN">"./ilib.js"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 23</span> </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">SearchUtils</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">require</span><span class="PUNC">(</span><span class="STRN">"./SearchUtils.js"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 24</span> </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">Utils</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">require</span><span class="PUNC">(</span><span class="STRN">"./Utils.js"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 25</span> </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">IString</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">require</span><span class="PUNC">(</span><span class="STRN">"./IString.js"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 26</span> 
<span class='line'> 27</span> </span><span class="COMM">/**
<span class='line'> 28</span>  * Provides a set of static routines that return information about characters.
<span class='line'> 29</span>  * These routines emulate the C-library ctype functions. The characters must be
<span class='line'> 30</span>  * encoded in utf-16, as no other charsets are currently supported. Only the first
<span class='line'> 31</span>  * character of the given string is tested.
<span class='line'> 32</span>  * @namespace
<span class='line'> 33</span>  */</span><span class="WHIT">
<span class='line'> 34</span> </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">CType</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 35</span> 
<span class='line'> 36</span> 
<span class='line'> 37</span> </span><span class="COMM">/**
<span class='line'> 38</span>  * Actual implementation for withinRange. Searches the given object for ranges.
<span class='line'> 39</span>  * The range names are taken from the Unicode range names in
<span class='line'> 40</span>  * http://www.unicode.org/Public/UNIDATA/extracted/DerivedGeneralCategory.txt
<span class='line'> 41</span>  *
<span class='line'> 42</span>  * &lt;ul>
<span class='line'> 43</span>  * &lt;li>Cn - Unassigned
<span class='line'> 44</span>  * &lt;li>Lu - Uppercase_Letter
<span class='line'> 45</span>  * &lt;li>Ll - Lowercase_Letter
<span class='line'> 46</span>  * &lt;li>Lt - Titlecase_Letter
<span class='line'> 47</span>  * &lt;li>Lm - Modifier_Letter
<span class='line'> 48</span>  * &lt;li>Lo - Other_Letter
<span class='line'> 49</span>  * &lt;li>Mn - Nonspacing_Mark
<span class='line'> 50</span>  * &lt;li>Me - Enclosing_Mark
<span class='line'> 51</span>  * &lt;li>Mc - Spacing_Mark
<span class='line'> 52</span>  * &lt;li>Nd - Decimal_Number
<span class='line'> 53</span>  * &lt;li>Nl - Letter_Number
<span class='line'> 54</span>  * &lt;li>No - Other_Number
<span class='line'> 55</span>  * &lt;li>Zs - Space_Separator
<span class='line'> 56</span>  * &lt;li>Zl - Line_Separator
<span class='line'> 57</span>  * &lt;li>Zp - Paragraph_Separator
<span class='line'> 58</span>  * &lt;li>Cc - Control
<span class='line'> 59</span>  * &lt;li>Cf - Format
<span class='line'> 60</span>  * &lt;li>Co - Private_Use
<span class='line'> 61</span>  * &lt;li>Cs - Surrogate
<span class='line'> 62</span>  * &lt;li>Pd - Dash_Punctuation
<span class='line'> 63</span>  * &lt;li>Ps - Open_Punctuation
<span class='line'> 64</span>  * &lt;li>Pe - Close_Punctuation
<span class='line'> 65</span>  * &lt;li>Pc - Connector_Punctuation
<span class='line'> 66</span>  * &lt;li>Po - Other_Punctuation
<span class='line'> 67</span>  * &lt;li>Sm - Math_Symbol
<span class='line'> 68</span>  * &lt;li>Sc - Currency_Symbol
<span class='line'> 69</span>  * &lt;li>Sk - Modifier_Symbol
<span class='line'> 70</span>  * &lt;li>So - Other_Symbol
<span class='line'> 71</span>  * &lt;li>Pi - Initial_Punctuation
<span class='line'> 72</span>  * &lt;li>Pf - Final_Punctuation
<span class='line'> 73</span>  * &lt;/ul>
<span class='line'> 74</span>  *
<span class='line'> 75</span>  * @protected
<span class='line'> 76</span>  * @param {number} num code point of the character to examine
<span class='line'> 77</span>  * @param {string} rangeName the name of the range to check
<span class='line'> 78</span>  * @param {Object} obj object containing the character range data
<span class='line'> 79</span>  * @return {boolean} true if the first character is within the named
<span class='line'> 80</span>  * range
<span class='line'> 81</span>  */</span><span class="WHIT">
<span class='line'> 82</span> </span><span class="NAME">CType._inRange</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">num</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rangeName</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 83</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">range</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 84</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">num</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="NAME">rangeName</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 85</span> </span><span class="WHIT">        </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 86</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'> 87</span> 
<span class='line'> 88</span> </span><span class="WHIT">    </span><span class="NAME">range</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">obj</span><span class="PUNC">[</span><span class="NAME">rangeName</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 89</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">range</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 90</span> </span><span class="WHIT">        </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 91</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'> 92</span> 
<span class='line'> 93</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">compare</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">singlerange</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">target</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 94</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">singlerange.length</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 95</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">singlerange</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">target</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 96</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 97</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">target</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">singlerange</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">singlerange</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">target</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT">
<span class='line'> 98</span> </span><span class="WHIT">                </span><span class="PUNC">(</span><span class="NAME">target</span><span class="WHIT"> </span><span class="PUNC">></span><span class="WHIT"> </span><span class="NAME">singlerange</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">singlerange</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">target</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 99</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>100</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>101</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">result</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">SearchUtils.bsearch</span><span class="PUNC">(</span><span class="NAME">num</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">range</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">compare</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>102</span> </span><span class="WHIT">    </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">result</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">range.length</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">compare</span><span class="PUNC">(</span><span class="NAME">range</span><span class="PUNC">[</span><span class="NAME">result</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">num</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>103</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>104</span> 
<span class='line'>105</span> </span><span class="COMM">/**
<span class='line'>106</span>  * Return whether or not the first character is within the named range
<span class='line'>107</span>  * of Unicode characters. The valid list of range names are taken from
<span class='line'>108</span>  * the Unicode 6.0 spec. Characters in all ranges of Unicode are supported,
<span class='line'>109</span>  * including those supported in Javascript via UTF-16. Currently, this method
<span class='line'>110</span>  * supports the following range names:
<span class='line'>111</span>  *
<span class='line'>112</span>  * &lt;ul>
<span class='line'>113</span>  * &lt;li>&lt;i>ascii&lt;/i> - basic ASCII
<span class='line'>114</span>  * &lt;li>&lt;i>latin&lt;/i> - Latin, Latin Extended Additional, Latin-1 supplement, Latin Extended-C, Latin Extended-D, Latin Extended-E
<span class='line'>115</span>  * &lt;li>&lt;i>armenian&lt;/i>
<span class='line'>116</span>  * &lt;li>&lt;i>greek&lt;/i> - Greek, Greek Extended
<span class='line'>117</span>  * &lt;li>&lt;i>cyrillic&lt;/i> - Cyrillic, Cyrillic Extended-A, Cyrillic Extended-B, Cyrillic Extended-C, Cyrillic Supplement
<span class='line'>118</span>  * &lt;li>&lt;i>georgian&lt;/i> - Georgian, Georgian Supplement
<span class='line'>119</span>  * &lt;li>&lt;i>glagolitic&lt;/i> - Glagolitic, Glagolitic Supplement
<span class='line'>120</span>  * &lt;li>&lt;i>gothic&lt;/i>
<span class='line'>121</span>  * &lt;li>&lt;i>ogham&lt;/i>
<span class='line'>122</span>  * &lt;li>&lt;i>oldpersian&lt;/i>
<span class='line'>123</span>  * &lt;li>&lt;i>runic&lt;/i>
<span class='line'>124</span>  * &lt;li>&lt;i>ipa&lt;/i> - IPA, Phonetic Extensions, Phonetic Extensions Supplement
<span class='line'>125</span>  * &lt;li>&lt;i>phonetic&lt;/i>
<span class='line'>126</span>  * &lt;li>&lt;i>modifiertone&lt;/i> - Modifier Tone Letters
<span class='line'>127</span>  * &lt;li>&lt;i>spacing&lt;/i>
<span class='line'>128</span>  * &lt;li>&lt;i>diacritics&lt;/i>
<span class='line'>129</span>  * &lt;li>&lt;i>halfmarks&lt;/i> - Combining Half Marks
<span class='line'>130</span>  * &lt;li>&lt;i>small&lt;/i> - Small Form Variants
<span class='line'>131</span>  * &lt;li>&lt;i>bamum&lt;/i> - Bamum, Bamum Supplement
<span class='line'>132</span>  * &lt;li>&lt;i>ethiopic&lt;/i> - Ethiopic, Ethiopic Extended, Ethiopic Extended-A
<span class='line'>133</span>  * &lt;li>&lt;i>nko&lt;/i>
<span class='line'>134</span>  * &lt;li>&lt;i>osmanya&lt;/i>
<span class='line'>135</span>  * &lt;li>&lt;i>tifinagh&lt;/i>
<span class='line'>136</span>  * &lt;li>&lt;i>val&lt;/i>
<span class='line'>137</span>  * &lt;li>&lt;i>arabic&lt;/i> - Arabic, Arabic Supplement, Arabic Presentation Forms-A,
<span class='line'>138</span>  * Arabic Presentation Forms-B, Arabic Mathematical Alphabetic Symbols
<span class='line'>139</span>  * &lt;li>&lt;i>carlan&lt;/i>
<span class='line'>140</span>  * &lt;li>&lt;i>hebrew&lt;/i>
<span class='line'>141</span>  * &lt;li>&lt;i>mandaic&lt;/i>
<span class='line'>142</span>  * &lt;li>&lt;i>samaritan&lt;/i>
<span class='line'>143</span>  * &lt;li>&lt;i>syriac&lt;/i>
<span class='line'>144</span>  * &lt;li>&lt;i>mongolian&lt;/i>
<span class='line'>145</span>  * &lt;li>&lt;i>phagspa&lt;/i>
<span class='line'>146</span>  * &lt;li>&lt;i>tibetan&lt;/i>
<span class='line'>147</span>  * &lt;li>&lt;i>bengali&lt;/i>
<span class='line'>148</span>  * &lt;li>&lt;i>devanagari&lt;/i> - Devanagari, Devanagari Extended
<span class='line'>149</span>  * &lt;li>&lt;i>gujarati&lt;/i>
<span class='line'>150</span>  * &lt;li>&lt;i>gurmukhi&lt;/i>
<span class='line'>151</span>  * &lt;li>&lt;i>kannada&lt;/i>
<span class='line'>152</span>  * &lt;li>&lt;i>lepcha&lt;/i>
<span class='line'>153</span>  * &lt;li>&lt;i>limbu&lt;/i>
<span class='line'>154</span>  * &lt;li>&lt;i>malayalam&lt;/i>
<span class='line'>155</span>  * &lt;li>&lt;i>meetaimayek&lt;/i>
<span class='line'>156</span>  * &lt;li>&lt;i>olchiki&lt;/i>
<span class='line'>157</span>  * &lt;li>&lt;i>oriya&lt;/i>
<span class='line'>158</span>  * &lt;li>&lt;i>saurashtra&lt;/i>
<span class='line'>159</span>  * &lt;li>&lt;i>sinhala&lt;/i>
<span class='line'>160</span>  * &lt;li>&lt;i>sylotinagri&lt;/i> - Syloti Nagri
<span class='line'>161</span>  * &lt;li>&lt;i>tangut&lt;/i>
<span class='line'>162</span>  * &lt;li>&lt;i>tamil&lt;/i>
<span class='line'>163</span>  * &lt;li>&lt;i>telugu&lt;/i>
<span class='line'>164</span>  * &lt;li>&lt;i>thaana&lt;/i>
<span class='line'>165</span>  * &lt;li>&lt;i>vedic&lt;/i>
<span class='line'>166</span>  * &lt;li>&lt;i>batak&lt;/i>
<span class='line'>167</span>  * &lt;li>&lt;i>balinese&lt;/i>
<span class='line'>168</span>  * &lt;li>&lt;i>buginese&lt;/i>
<span class='line'>169</span>  * &lt;li>&lt;i>cham&lt;/i>
<span class='line'>170</span>  * &lt;li>&lt;i>javanese&lt;/i>
<span class='line'>171</span>  * &lt;li>&lt;i>kayahli&lt;/i>
<span class='line'>172</span>  * &lt;li>&lt;i>khmer&lt;/i>
<span class='line'>173</span>  * &lt;li>&lt;i>lao&lt;/i>
<span class='line'>174</span>  * &lt;li>&lt;i>myanmar&lt;/i> - Myanmar, Myanmar Extended-A, Myanmar Extended-B
<span class='line'>175</span>  * &lt;li>&lt;i>newtailue&lt;/i>
<span class='line'>176</span>  * &lt;li>&lt;i>rejang&lt;/i>
<span class='line'>177</span>  * &lt;li>&lt;i>sundanese&lt;/i> - Sundanese, Sundanese Supplement
<span class='line'>178</span>  * &lt;li>&lt;i>taile&lt;/i>
<span class='line'>179</span>  * &lt;li>&lt;i>taitham&lt;/i>
<span class='line'>180</span>  * &lt;li>&lt;i>taiviet&lt;/i>
<span class='line'>181</span>  * &lt;li>&lt;i>thai&lt;/i>
<span class='line'>182</span>  * &lt;li>&lt;i>buhld&lt;/i>
<span class='line'>183</span>  * &lt;li>&lt;i>hanunoo&lt;/i>
<span class='line'>184</span>  * &lt;li>&lt;i>tagalog&lt;/i>
<span class='line'>185</span>  * &lt;li>&lt;i>tagbanwa&lt;/i>
<span class='line'>186</span>  * &lt;li>&lt;i>bopomofo&lt;/i> - Bopomofo, Bopomofo Extended
<span class='line'>187</span>  * &lt;li>&lt;i>cjk&lt;/i> - the CJK unified ideographs (Han), CJK Unified Ideographs
<span class='line'>188</span>  *  Extension A, CJK Unified Ideographs Extension B, CJK Unified Ideographs
<span class='line'>189</span>  *  Extension C, CJK Unified Ideographs Extension D, Ideographic Description
<span class='line'>190</span>  *  Characters (=isIdeo())
<span class='line'>191</span>  * &lt;li>&lt;i>cjkcompatibility&lt;/i> - CJK Compatibility, CJK Compatibility
<span class='line'>192</span>  * Ideographs, CJK Compatibility Forms, CJK Compatibility Ideographs Supplement
<span class='line'>193</span>  * &lt;li>&lt;i>cjkradicals&lt;/i> - the CJK radicals, KangXi radicals
<span class='line'>194</span>  * &lt;li>&lt;i>hangul&lt;/i> - Hangul Jamo, Hangul Syllables, Hangul Jamo Extended-A,
<span class='line'>195</span>  * Hangul Jamo Extended-B, Hangul Compatibility Jamo
<span class='line'>196</span>  * &lt;li>&lt;i>cjkpunct&lt;/i> - CJK symbols and punctuation
<span class='line'>197</span>  * &lt;li>&lt;i>cjkstrokes&lt;/i> - CJK strokes
<span class='line'>198</span>  * &lt;li>&lt;i>hiragana&lt;/i>
<span class='line'>199</span>  * &lt;li>&lt;i>katakana&lt;/i> - Katakana, Katakana Phonetic Extensions, Kana Supplement
<span class='line'>200</span>  * &lt;li>&lt;i>kanbun&lt;/i>
<span class='line'>201</span>  * &lt;li>&lt;i>lisu&lt;/i>
<span class='line'>202</span>  * &lt;li>&lt;i>yi&lt;/i> - Yi Syllables, Yi Radicals
<span class='line'>203</span>  * &lt;li>&lt;i>cherokee&lt;/i>
<span class='line'>204</span>  * &lt;li>&lt;i>canadian&lt;/i> - Unified Canadian Aboriginal Syllabics, Unified Canadian
<span class='line'>205</span>  * Aboriginal Syllabics Extended
<span class='line'>206</span>  * &lt;li>&lt;i>presentation&lt;/i> - Alphabetic presentation forms
<span class='line'>207</span>  * &lt;li>&lt;i>vertical&lt;/i> - Vertical Forms
<span class='line'>208</span>  * &lt;li>&lt;i>width&lt;/i> - Halfwidth and Fullwidth Forms
<span class='line'>209</span>  * &lt;li>&lt;i>punctuation&lt;/i> - General punctuation, Supplemental Punctuation
<span class='line'>210</span>  * &lt;li>&lt;i>box&lt;/i> - Box Drawing
<span class='line'>211</span>  * &lt;li>&lt;i>block&lt;/i> - Block Elements
<span class='line'>212</span>  * &lt;li>&lt;i>letterlike&lt;/i> - Letterlike symbols
<span class='line'>213</span>  * &lt;li>&lt;i>mathematical&lt;/i> - Mathematical alphanumeric symbols, Miscellaneous
<span class='line'>214</span>  * Mathematical Symbols-A, Miscellaneous Mathematical Symbols-B
<span class='line'>215</span>  * &lt;li>&lt;i>enclosedalpha&lt;/i> - Enclosed alphanumerics, Enclosed Alphanumeric Supplement
<span class='line'>216</span>  * &lt;li>&lt;i>enclosedcjk&lt;/i> - Enclosed CJK letters and months, Enclosed Ideographic Supplement
<span class='line'>217</span>  * &lt;li>&lt;i>cjkcompatibility&lt;/i> - CJK compatibility
<span class='line'>218</span>  * &lt;li>&lt;i>apl&lt;/i> - APL symbols
<span class='line'>219</span>  * &lt;li>&lt;i>controlpictures&lt;/i> - Control pictures
<span class='line'>220</span>  * &lt;li>&lt;i>misc&lt;/i> - Miscellaneous technical
<span class='line'>221</span>  * &lt;li>&lt;i>ocr&lt;/i> - Optical character recognition (OCR)
<span class='line'>222</span>  * &lt;li>&lt;i>combining&lt;/i> - Combining Diacritical Marks, Combining Diacritical Marks
<span class='line'>223</span>  * for Symbols, Combining Diacritical Marks Supplement, Combining Diacritical Marks Extended
<span class='line'>224</span>  * &lt;li>&lt;i>digits&lt;/i> - ASCII digits (=isDigit())
<span class='line'>225</span>  * &lt;li>&lt;i>indicnumber&lt;/i> - Common Indic Number Forms
<span class='line'>226</span>  * &lt;li>&lt;i>numbers&lt;/i> - Number forms
<span class='line'>227</span>  * &lt;li>&lt;i>supersub&lt;/i> - Superscripts and Subscripts
<span class='line'>228</span>  * &lt;li>&lt;i>arrows&lt;/i> - Arrows, Miscellaneous Symbols and Arrows, Supplemental Arrows-A,
<span class='line'>229</span>  * Supplemental Arrows-B, Supplemental Arrows-C
<span class='line'>230</span>  * &lt;li>&lt;i>operators&lt;/i> - Mathematical operators, supplemental
<span class='line'>231</span>  * mathematical operators
<span class='line'>232</span>  * &lt;li>&lt;i>geometric&lt;/i> - Geometric shapes, Geometric shapes extended
<span class='line'>233</span>  * &lt;li>&lt;i>ancient&lt;/i> - Ancient symbols
<span class='line'>234</span>  * &lt;li>&lt;i>braille&lt;/i> - Braille patterns
<span class='line'>235</span>  * &lt;li>&lt;i>currency&lt;/i> - Currency symbols
<span class='line'>236</span>  * &lt;li>&lt;i>dingbats&lt;/i>
<span class='line'>237</span>  * &lt;li>&lt;i>gamesymbols&lt;/i>
<span class='line'>238</span>  * &lt;li>&lt;i>yijing&lt;/i> - Yijing Hexagram Symbols
<span class='line'>239</span>  * &lt;li>&lt;i>specials&lt;/i>
<span class='line'>240</span>  * &lt;li>&lt;i>variations&lt;/i> - Variation Selectors, Variation Selectors Supplement
<span class='line'>241</span>  * &lt;li>&lt;i>privateuse&lt;/i> - Private Use Area, Supplementary Private Use Area-A,
<span class='line'>242</span>  * Supplementary Private Use Area-B
<span class='line'>243</span>  * &lt;li>&lt;i>supplementarya&lt;/i> - Supplementary private use area-A
<span class='line'>244</span>  * &lt;li>&lt;i>supplementaryb&lt;/i> - Supplementary private use area-B
<span class='line'>245</span>  * &lt;li>&lt;i>highsurrogates&lt;/i> - High Surrogates, High Private Use Surrogates
<span class='line'>246</span>  * &lt;li>&lt;i>lowsurrogates&lt;/i>
<span class='line'>247</span>  * &lt;li>&lt;i>reserved&lt;/i>
<span class='line'>248</span>  * &lt;li>&lt;i>noncharacters&lt;/i>
<span class='line'>249</span>  * &lt;li>&lt;i>copticnumber&lt;/i> - coptic epact numbers
<span class='line'>250</span>  * &lt;li>&lt;i>oldpermic&lt;/i> - old permic
<span class='line'>251</span>  * &lt;li>&lt;i>albanian&lt;/i> - albanian
<span class='line'>252</span>  * &lt;li>&lt;i>lineara&lt;/i> - linear a
<span class='line'>253</span>  * &lt;li>&lt;i>meroitic&lt;/i> - meroitic cursive
<span class='line'>254</span>  * &lt;li>&lt;i>oldnortharabian&lt;/i> - old north arabian
<span class='line'>255</span>  * &lt;li>&lt;i>oldhungarian&lt;/i> - Supplementary private use area-A
<span class='line'>256</span>  * &lt;li>&lt;i>sorasompeng&lt;/i> - sora sompeng
<span class='line'>257</span>  * &lt;li>&lt;i>warangciti&lt;/i> - warang citi
<span class='line'>258</span>  * &lt;li>&lt;i>paucinhau&lt;/i> - pau cin hau
<span class='line'>259</span>  * &lt;li>&lt;i>bassavah&lt;/i> - bassa vah
<span class='line'>260</span>  * &lt;li>&lt;i>pahawhhmong&lt;/i> - pahawh hmong
<span class='line'>261</span>  * &lt;li>&lt;i>shorthandformat&lt;/i> - shorthand format controls
<span class='line'>262</span>  * &lt;li>&lt;i>suttonsignwriting&lt;/i> - sutton signwriting
<span class='line'>263</span>  * &lt;li>&lt;i>pictographs&lt;/i> - miscellaneous symbols and pictographs, supplemental symbols and pictographs
<span class='line'>264</span>  * &lt;li>&lt;i>ornamentaldingbats&lt;/i> - ornamental dingbats
<span class='line'>265</span>  * &lt;/ul>&lt;p>
<span class='line'>266</span>  *
<span class='line'>267</span>  *
<span class='line'>268</span>  * @protected
<span class='line'>269</span>  * @param {string|IString|number} ch character or code point to examine
<span class='line'>270</span>  * @param {string} rangeName the name of the range to check
<span class='line'>271</span>  * @return {boolean} true if the first character is within the named
<span class='line'>272</span>  * range
<span class='line'>273</span>  */</span><span class="WHIT">
<span class='line'>274</span> </span><span class="NAME">CType.withinRange</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ch</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rangeName</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>275</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">rangeName</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>276</span> </span><span class="WHIT">        </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>277</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>278</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">num</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>279</span> </span><span class="WHIT">    </span><span class="KEYW">switch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="PUNC">(</span><span class="NAME">ch</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>280</span> </span><span class="WHIT">        </span><span class="KEYW">case</span><span class="WHIT"> </span><span class="STRN">'number'</span><span class="PUNC">:</span><span class="WHIT">
<span class='line'>281</span> </span><span class="WHIT">            </span><span class="NAME">num</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">ch</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>282</span> </span><span class="WHIT">            </span><span class="KEYW">break</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>283</span> </span><span class="WHIT">        </span><span class="KEYW">case</span><span class="WHIT"> </span><span class="STRN">'string'</span><span class="PUNC">:</span><span class="WHIT">
<span class='line'>284</span> </span><span class="WHIT">            </span><span class="NAME">num</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">IString.toCodePoint</span><span class="PUNC">(</span><span class="NAME">ch</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>285</span> </span><span class="WHIT">            </span><span class="KEYW">break</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>286</span> </span><span class="WHIT">        </span><span class="KEYW">case</span><span class="WHIT"> </span><span class="STRN">'undefined'</span><span class="PUNC">:</span><span class="WHIT">
<span class='line'>287</span> </span><span class="WHIT">            </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>288</span> </span><span class="WHIT">        </span><span class="KEYW">default</span><span class="PUNC">:</span><span class="WHIT">
<span class='line'>289</span> </span><span class="WHIT">            </span><span class="NAME">num</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">ch._toCodePoint</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>290</span> </span><span class="WHIT">            </span><span class="KEYW">break</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>291</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>292</span> 
<span class='line'>293</span> </span><span class="WHIT">    </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">CType._inRange</span><span class="PUNC">(</span><span class="NAME">num</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rangeName.toLowerCase</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">ilib.data.ctype</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>294</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>295</span> 
<span class='line'>296</span> </span><span class="COMM">/**
<span class='line'>297</span>  * @protected
<span class='line'>298</span>  * @param {boolean} sync
<span class='line'>299</span>  * @param {Object|undefined} loadParams
<span class='line'>300</span>  * @param {function(*)|undefined} onLoad
<span class='line'>301</span>  */</span><span class="WHIT">
<span class='line'>302</span> </span><span class="NAME">CType._init</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">sync</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">loadParams</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">onLoad</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>303</span> </span><span class="WHIT">    </span><span class="NAME">CType._load</span><span class="PUNC">(</span><span class="STRN">"ctype"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">sync</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">loadParams</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">onLoad</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>304</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>305</span> 
<span class='line'>306</span> </span><span class="COMM">/**
<span class='line'>307</span>  * @protected
<span class='line'>308</span>  * @param {string} name
<span class='line'>309</span>  * @param {boolean} sync
<span class='line'>310</span>  * @param {Object|undefined} loadParams
<span class='line'>311</span>  * @param {function(*)|undefined} onLoad
<span class='line'>312</span>  */</span><span class="WHIT">
<span class='line'>313</span> </span><span class="NAME">CType._load</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">name</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">sync</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">loadParams</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">onLoad</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>314</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">ilib.data</span><span class="PUNC">[</span><span class="NAME">name</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>315</span> </span><span class="WHIT">        </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">loadName</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">name</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">name</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">".json"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"CType.json"</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>316</span> </span><span class="WHIT">        </span><span class="NAME">Utils.loadData</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>317</span> </span><span class="WHIT">            </span><span class="NAME">object</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"CType"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>318</span> </span><span class="WHIT">            </span><span class="NAME">name</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">loadName</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>319</span> </span><span class="WHIT">            </span><span class="NAME">locale</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"-"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>320</span> </span><span class="WHIT">            </span><span class="NAME">nonlocale</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>321</span> </span><span class="WHIT">            </span><span class="NAME">sync</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">sync</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>322</span> </span><span class="WHIT">            </span><span class="NAME">loadParams</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">loadParams</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>323</span> </span><span class="WHIT">            </span><span class="NAME">callback</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">ilib.bind</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ct</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>324</span> </span><span class="WHIT">                </span><span class="NAME">ilib.data</span><span class="PUNC">[</span><span class="NAME">name</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">ct</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>325</span> </span><span class="WHIT">                </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">onLoad</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="KEYW">typeof</span><span class="PUNC">(</span><span class="NAME">onLoad</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">'function'</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>326</span> </span><span class="WHIT">                    </span><span class="NAME">onLoad</span><span class="PUNC">(</span><span class="NAME">ilib.data</span><span class="PUNC">[</span><span class="NAME">name</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>327</span> </span><span class="WHIT">                </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>328</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>329</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>330</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>331</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">onLoad</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="KEYW">typeof</span><span class="PUNC">(</span><span class="NAME">onLoad</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="STRN">'function'</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>332</span> </span><span class="WHIT">            </span><span class="NAME">onLoad</span><span class="PUNC">(</span><span class="NAME">ilib.data</span><span class="PUNC">[</span><span class="NAME">name</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>333</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>334</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>335</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>336</span> 
<span class='line'>337</span> </span><span class="NAME">module.exports</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">CType</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>338</span> </span></pre></body></html>